<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proiecte</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="proiecte.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    
    <div class="navbarSite">
        <input type="button" value="CV" onclick="schimbaPagina('http://127.0.0.1:5500/')" class="elementNavbar">
        <input type="button" value="Proiecte" onclick="schimbaPagina('http://127.0.0.1:5500/proiecte.html')" class="elementNavbar">
    </div>

    <div class="containerBodyProiecte">
        <div class="containerButonProiecte">
            <button onclick="proiectInapoi()" class="butonProiecte">
                <i class="fa-solid fa-arrow-left fa-xs" style="color: #ffffff;"></i>
            </button>
        </div>
        <div class="containerProiecte"  id="containerProiecte"></div>
        <div class="containerButonProiecte">
            <button onclick="proiectInainte()" class="butonProiecte">
                <i class="fa-solid fa-arrow-right fa-xs" style="color: #ffffff;"></i>
            </button>
        </div>
    </div>

    <dialog class="modal" id="modalPoza">
        <div class="modalDialog">
            <div class="containerButonPoze" id="containerButonPozeStanga">
                <button class="buton" onclick="pozaInapoi()">
                    <i class="fa-solid fa-arrow-left"></i>
                </button>
            </div>
            <img class="modalImage" src="http://127.0.0.1:5500/proiecte/notesapp4.jpg" alt="Image">
            <div class="containerButonClose">
                <button class="buton" onclick="closeModal()">X</button>
            </div>
            <div class="containerButonPoze">
                <button class="buton" id="containerButonPoze" onclick="pozaInainte()">
                    <i class="fa-solid fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </dialog>

    <script>
        const listaProiecte = [
            {
                "id"        : "1",
                "nume"      : "Notes App",
                "descriere" : "Aplicație de notițe. Extrem de customizabilă în ceea ce privește culorile interfeței. Funcționalități ce asigură o experiență plăcută.",
                "fs1"       : "Funcționalități de Creare, Editare, Ștergere, Arhivare a notițelor",
                "fs2"       : "Customizare a culorilor interfeței",
                "fs3"       : "Customizare a culorilor notițelor",
                "fs4"       : "Adăugare poze în notițe",
                "fs5"       : "Posibilitate de a adăuga o notiță la 'favorite'",
                "fs6"       : "Funționalitate de filtrare a notițelor în funcție de dată, text, etc, descrescător sau crescător",
                "fs7"       : "Backup și restore a bazei de date",                
                "linkpoza1" : "proiecte/notesapp1.png",
                "linkpoza2" : "proiecte/notesapp2.jpg",
                "linkpoza3" : "proiecte/notesapp3.jpg",
                "linkpoza4" : "proiecte/notesapp4.jpg",
                "linkpoza5" : "proiecte/notesapp5.jpg",
                "linkpoza6" : "proiecte/notesapp6.jpg",
                "linkpoza7" : "proiecte/notesapp7.jpg",
            },
            {
                "id"        : "2",
                "nume"      : "Calculator",
                "descriere" : "Aplicație pentru un calculator simplu.",
                "fs1"       : "Toate operațiile uzuale", 
                "linkpoza1" : "proiecte/calculator1.jpg",
                "linkpoza2" : "proiecte/calculator2.jpg",
                "linkpoza3" : "proiecte/calculator3.jpg",
                "linkpoza4" : "proiecte/calculator4.jpg",
                "linkpoza5" : "proiecte/calculator5.jpg",
                "linkpoza6" : "proiecte/calculator6.jpg",
                "linkpoza7" : "proiecte/calculator7.jpg",
            },
            {
                "id"        : "3",
                "nume"      : "Vremea Romania",
                "descriere" : "Aplicație meteo, vizualizează detalii despre temperatură, umiditate, viteza vântului pt reședințele de județ a României.",
                "fs1"       : "Apelarea API-ului <a href='https://openweathermap.org/'>Open Weather</a> pentru culegerea de date",
                "fs2"       : "Alegerea simplă a județului prin atingere pe imaginea CSV",
                "fs3"       : "În funcție de județul ales se afișează datele de vreme pentru ziua respectivă, date de către API-ul Open Weather",
                "linkpoza1" : "proiecte/vremea1.png",
                "linkpoza2" : "proiecte/vremea2.jpg",
                "linkpoza3" : "proiecte/vremea3.jpg",
                "linkpoza4" : "proiecte/vremea4.jpg",
                "linkpoza5" : "proiecte/vremea5.jpg",
                "linkpoza6" : "proiecte/vremea6.jpg",
                "linkpoza7" : "proiecte/vremea7.jpg",
            },
            {
                "id"        : "4",
                "nume"      : "IP Calculator",
                "descriere" : "Folosind Calculatorul IP, puteți calcula adresa de broadcast și rețea, numărul de gazde și intervalul de gazde pe baza unei adrese IP și a unei măști de subrețea date ca input.",
                "fs1"       : "Input-ul constă dintr-o adresă IP, și un Subnet Mask - care poate fi ales sub formă de adresă sau de biți, din lise drop down",
                "fs2"       : "Output-ul constă din afișarea numărului de host-uri, clasa adresei IP, range-ul host-urilor",
                "fs3"       : "Se pot vedea și notațiile hexadecimale sau binare pentru input-ul decimal",
                "linkpoza1" : "proiecte/ip1.png",
                "linkpoza2" : "proiecte/ip2.jpg",
                "linkpoza3" : "proiecte/ip3.jpg",
                "linkpoza4" : "proiecte/ip4.jpg",
                "linkpoza5" : "proiecte/ip5.jpg",
                "linkpoza6" : "proiecte/ip6.jpg",
                "linkpoza7" : "proiecte/ip7.jpg",
            },
            {
                "id"        : "5",
                "nume"      : "Video Downloader",
                "descriere" : "Aplicație pentru descărcarea videoclipurilor. Descărcați videoclipuri folosind aplicația Video Downloader. Descărcați întregul videoclip sau doar secțiuni ale videoclipului folosind modulul de tăiere video. Descărcați videoclipuri de pe TikTok, Instagram, Facebook etc.",
                "fs1"       : "Aplicația accesează API-ul meu, care constă dintr-o aplicație Python - Flask.",
                "fs2"       : "Ca input se trimite către API un link de tiktok/yewtube/piped/vimeo/dailymotion/etc - sau doar ID-ul unui clip de YouTube, fără partea de 'https://youtu.be/' (pentru a fi acceptată de către Google Playstore)",
                "fs3"       : "Opțional se pot trimite ca input și timpul de start și timpul de sfârșit - iar API-ul returnează doar acel segment de videoclip",
                "fs4"       : "Videoclipurile se stochează local, în folderul aplicației. Se pot accesa din galeria aplicației",
                "fs5"       : "Din galeria aplicației clipurile pot fi vizualizate, li se pot schimba numele, se pot șterge, sau se pot distribui pe rețelele sociale, google drive, etc",
                "linkpoza1" : "proiecte/videodownloader1.png",
                "linkpoza2" : "proiecte/videodownloader2.jpg",
                "linkpoza3" : "proiecte/videodownloader3.jpg",
                "linkpoza4" : "proiecte/videodownloader4.jpg",
                "linkpoza5" : "proiecte/videodownloader5.jpg",
                "linkpoza6" : "proiecte/videodownloader6.jpg",
                "linkpoza7" : "proiecte/videodownloader7.jpg",
            },
            {
                "id"        : "6",
                "nume"      : "RoSpringVet 1",
                "descriere" : "Aplicație pentru gestionarea unui cabinet veterinar. Prima versiune este o aplicație strict browser, de tip MPA, realizată cu Java - Spring Boot și template engine-ul Thymeleaf. Aplicația poate înlocui registrul fizic de programări/vizite, fiind mult mai rapidă în găsirea animalelor, cu toate vizitele, programările, tratamentele în desfășurare",
                "fs1"       : "Funcționalități de înregistrare, autentificare și autorizare pentru diferiți utilizatori - realizate cu Spring Security",
                "fs3"       : "Sistem de înștiințare prin e-mail",
                "fs4"       : "Funcții CRUD pentru animale, programări, vizite, tratamente, etc",
                "fs5"       : "Funcționaltăți de filtrare în funcție de dată, nume, stare, etc",
                "linkpoza1" : "proiecte/rospringvet1.png",
                "linkpoza2" : "",
                "linkpoza3" : "",
                "linkpoza4" : "",
                "linkpoza5" : "",
                "linkpoza6" : "",
                "linkpoza7" : "",
                "linkVideo" : "",
            },
            {
                "id"        : "7",
                "nume"      : "Astronimy App",
                "descriere" : "Aplicație de vizualizare a APOD-urilor (Astronomy Picture Of the Day) date de către NASA. Aplicația se folosește de API-ul NASA pentru a prelua imaginea/clipul, descrierea, etc pentru o anumită zi aleasă de utilizator.",
                "fs1"       : "În funcție de data aleasă, se va afișa APOD-ul pentru ziua respectivă. Cheia API-ului permite 2000 de apelări pe oră.",
                "fs2"       : "Funcționalitate de salvare a APOD-urilor la favorite - vor apărea în galeria aplicației",
                "fs3"       : "Import/Export a APOD-urilor salvate",
                "linkpoza1" : "proiecte/apod1.jpg",
                "linkpoza2" : "proiecte/apod2.jpeg",
                "linkpoza3" : "proiecte/apod3.jpeg",
                "linkpoza4" : "proiecte/apod4.jpeg",
                "linkpoza5" : "proiecte/apod5.jpeg",
                "linkpoza6" : "proiecte/apod6.jpeg",
                "linkpoza7" : "proiecte/apod7.jpeg",
            },
        ];
        
        let index = 0;

        function proiectInainte(){
            index = index + 1;
            console.log(index)
            if(index > 6)
                index = 0;
            randareProiecte()
        }
        function proiectInapoi(){
            index = index - 1
            console.log(index)
            if(index < 0)
                index = 6
            randareProiecte()
        }

        function randareProiecte(){
            const containerProiecte = document.getElementById("containerProiecte");        
            const proiect = listaProiecte[index] 
            const divProiect = document.createElement("div");
            divProiect.setAttribute("class", "proiect");
            containerProiecte.innerHTML = ``
            divProiect.innerHTML = `
                <div class="bandaTitlu">
                    <img class="pozaPrincipala" src="${proiect.linkpoza1}">
                    <div class="subliniat"><p class="nume">${proiect.nume}</p></div>
                </div>
                <div class="containerSectiune">
                    <div class="containerTitluSectiune"><p class="paragrafSectiune"> ${proiect.descriere}</p></div>
                    <div class="containerBodySectiune">
                        <ul>
                            <li>
                                ${randareFunctionalitati(proiect)}
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="containerPoze">
                    ${randareImagini(proiect)}
                </div>
                
                ${proiect.linkVideo ? 
                    `<div class="containerVideo">
                        <iframe 
                            width="100%" height="100%" 
                            src="${proiect.linkVideo}" 
                            title="YouTube video player" frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            allowfullscreen>
                        </iframe>
                    </div>` : ''}
            `;
            containerProiecte.appendChild(divProiect);
        }

        function randareFunctionalitati(proiect) {
            const listaFunctionalitati = [];
            for(let i = 0; i < 33; i++){
                cheieFunctionalitate  = `fs${i}`;
                if(proiect[cheieFunctionalitate]){
                    listaFunctionalitati.push(`<p class="paragrafSectiune">${proiect[cheieFunctionalitate]}</p>`);
                }
            }
            return listaFunctionalitati.join('\n');
        }

        let listaCheiImagini = [];
        let indexListaCheiImagini = 0;
        
        function randareImagini(proiect) {
            const listaImagini = [];
            listaCheiImagini = [];
            for(let i = 2; i <= 7; i++){
                cheieImagine = `linkpoza${i}`;
                if(proiect[cheieImagine]){
                    listaImagini.push(`<img src="${proiect[cheieImagine]}" onclick="openModal('${proiect[cheieImagine]}')">`);
                    listaCheiImagini.push(proiect[cheieImagine]);
                }
            }
            console.log(listaCheiImagini);
            return listaImagini.join('\n');
        }

        randareProiecte()

        function schimbaPagina(pagina){
            window.location.href=pagina
        }

        const modalPoza = document.querySelector('#modalPoza');
        const imagine = document.querySelector('.modalImage');
        let src = "";
        let indexCurent = 0;
        function openModal(sursa) {
            src = sursa;
            imagine.src = src;
            modalPoza.showModal(); 
            for(let i = 0; i < listaCheiImagini.length; i++){
                if(sursa === listaCheiImagini[i])
                    indexCurent = i;
            }
        }
        function closeModal() {
            modalPoza.close();
        }
        
        function pozaInainte(){
            let index = indexCurent + 1;
            if(index > 5)
                index = 0;
            openModal(listaCheiImagini[index]);
        }

        function pozaInapoi(){
            let index = indexCurent - 1;
            if(index < 0)
                index = 5;
            openModal(listaCheiImagini[index]);
        }
    </script>

</body>
</html>